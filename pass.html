<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureVault Password Manager</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #f5f5f5;
        }
        
        .video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .placeholder-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: -1;
        }
        
        header {
            background-color: rgba(25, 25, 25, 0.9);
            color: white;
            padding: 1rem;
            text-align: center;
        }
        
        header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .container {
            flex: 1;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .auth-container {
            width: 100%;
            max-width: 400px;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }
        
        .auth-container h2 {
            margin-bottom: 1.5rem;
            color: #333;
            text-align: center;
            font-weight: 600;
        }
        
        .input-group {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .input-group input {
            width: 100%;
            padding: 0.75rem 0;
            font-size: 1rem;
            color: #333;
            border: none;
            border-bottom: 2px solid #999;
            outline: none;
            background: transparent;
            transition: 0.3s;
        }
        
        .input-group label {
            position: absolute;
            top: 0;
            left: 0;
            padding: 0.75rem 0;
            font-size: 1rem;
            color: #999;
            pointer-events: none;
            transition: 0.3s;
        }
        
        .input-group input:focus ~ label,
        .input-group input:valid ~ label {
            top: -20px;
            left: 0;
            color: #4285f4;
            font-size: 0.875rem;
        }
        
        .input-group input:focus,
        .input-group input:valid {
            border-bottom: 2px solid #4285f4;
        }
        
        button {
            width: 100%;
            padding: 0.75rem 0;
            background: #4285f4;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #3367d6;
        }
        
        .toggle-auth {
            margin-top: 1rem;
            text-align: center;
            font-size: 0.875rem;
        }
        
        .toggle-auth a {
            color: #4285f4;
            text-decoration: none;
            cursor: pointer;
        }
        
        .toggle-auth a:hover {
            text-decoration: underline;
        }
        
        .password-manager {
            display: none;
            width: 100%;
            max-width: 800px;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
        }
        
        .password-manager h2 {
            margin-bottom: 1.5rem;
            color: #333;
            text-align: center;
            font-weight: 600;
        }
        
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }
        
        .action-buttons button {
            width: 48%;
        }
        
        .password-list {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .password-list th, .password-list td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .password-list th {
            background-color: #f2f2f2;
            font-weight: 600;
        }
        
        .password-list tr:hover {
            background-color: #f5f5f5;
        }
        
        .action-cell {
            display: flex;
            gap: 0.5rem;
        }
        
        .action-cell button {
            width: auto;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
        }
        
        .password-field {
            font-family: monospace;
            position: relative;
        }
        
        .password-field span {
            cursor: pointer;
            color: #666;
            margin-left: 0.5rem;
            font-size: 0.875rem;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-header h3 {
            margin: 0;
        }
        
        .close-modal {
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            background: none;
            border: none;
            color: #999;
            width: auto;
        }
        
        .form-row {
            margin-bottom: 1rem;
        }
        
        .form-row label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-row input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .form-row input:focus {
            outline: none;
            border-color: #4285f4;
        }
        
        .password-generator {
            display: flex;
            align-items: center;
            margin-top: 0.5rem;
        }
        
        .password-generator button {
            width: auto;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            margin-left: 0.5rem;
        }
        
        .password-strength {
            margin-top: 0.5rem;
            font-size: 0.875rem;
        }
        
        .strength-meter {
            height: 0.5rem;
            background: #eee;
            margin-top: 0.25rem;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .strength-meter div {
            height: 100%;
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        
        footer {
            text-align: center;
            padding: 1rem;
            background-color: rgba(25, 25, 25, 0.9);
            color: white;
            margin-top: auto;
        }
        
        .user-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
        }
        
        .user-info p {
            margin: 0;
        }
        
        .logout-btn {
            width: auto;
            padding: 0.25rem 0.75rem;
            background: #f44336;
        }
        
        .logout-btn:hover {
            background: #d32f2f;
        }
        
        .search-bar {
            width: 100%;
            margin-bottom: 1rem;
        }
        
        .search-bar input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 2rem;
            color: #666;
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #ccc;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <div class="placeholder-video" style="background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); width: 100%; height: 100%;"></div>
        <div class="overlay"></div>
    </div>
    
    <header>
        <h1>SecureVault</h1>
        <p>Your Personal Password Manager</p>
    </header>
    
    <div class="container">
        <!-- Login/Register Form -->
        <div class="auth-container" id="authContainer">
            <h2 id="authTitle">Log In</h2>
            <form id="authForm">
                <div class="input-group">
                    <input type="text" id="username" required="required">
                    <label for="username">Username</label>
                </div>
                <div class="input-group">
                    <input type="password" id="password" required="required">
                    <label for="password">Password</label>
                </div>
                <div class="input-group" id="confirmPasswordGroup" style="display: none;">
                    <input type="password" id="confirmPassword" required="required">
                    <label for="confirmPassword">Confirm Password</label>
                </div>
                <button type="submit" id="authButton">Log In</button>
                <div class="toggle-auth">
                    <span id="authToggleText">Don't have an account?</span>
                    <a id="authToggleLink">Sign up</a>
                </div>
            </form>
        </div>
        
        <!-- Password Manager -->
        <div class="password-manager" id="passwordManager">
            <div class="user-info">
                <p>Welcome, <span id="currentUser">User</span>!</p>
                <button class="logout-btn" id="logoutBtn">Logout</button>
            </div>
            
            <h2>Your Stored Passwords</h2>
            
            <div class="action-buttons">
                <button id="addNewBtn">Add New Password</button>
                <button id="exportBtn">Export Data</button>
            </div>
            
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search passwords...">
            </div>
            
            <div id="passwordList">
                <table class="password-list">
                    <thead>
                        <tr>
                            <th>Website</th>
                            <th>Username</th>
                            <th>Password</th>
                            <th>Last Updated</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="passwordTableBody">
                        <!-- Password entries will be added here dynamically -->
                    </tbody>
                </table>
            </div>
            
            <div id="emptyState" class="empty-state">
                <i>ðŸ”’</i>
                <h3>No passwords stored yet</h3>
                <p>Add your first password by clicking the "Add New Password" button above.</p>
            </div>
        </div>
    </div>
    
    <!-- Add/Edit Password Modal -->
    <div class="modal" id="passwordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Password</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <form id="passwordForm">
                <input type="hidden" id="passwordId">
                <div class="form-row">
                    <label for="website">Website/Application</label>
                    <input type="text" id="website" required>
                </div>
                <div class="form-row">
                    <label for="websiteUrl">URL (optional)</label>
                    <input type="text" id="websiteUrl">
                </div>
                <div class="form-row">
                    <label for="usernameField">Username/Email</label>
                    <input type="text" id="usernameField" required>
                </div>
                <div class="form-row">
                    <label for="passwordField">Password</label>
                    <input type="password" id="passwordField" required>
                    <div class="password-generator">
                        <button type="button" id="generatePassword">Generate Strong Password</button>
                    </div>
                    <div class="password-strength">
                        <span id="strengthText">Strength: </span>
                        <div class="strength-meter">
                            <div id="strengthIndicator" style="width: 0%; background-color: #ccc;"></div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <label for="notes">Notes (optional)</label>
                    <input type="text" id="notes">
                </div>
                <button type="submit" id="savePasswordBtn">Save Password</button>
            </form>
        </div>
    </div>
    
    <footer>
        <p>&copy; 2025 SecureVault Password Manager</p>
    </footer>

    <script>
        // DOM Elements
        const authContainer = document.getElementById('authContainer');
        const authTitle = document.getElementById('authTitle');
        const authForm = document.getElementById('authForm');
        const authButton = document.getElementById('authButton');
        const authToggleText = document.getElementById('authToggleText');
        const authToggleLink = document.getElementById('authToggleLink');
        const confirmPasswordGroup = document.getElementById('confirmPasswordGroup');
        const passwordManager = document.getElementById('passwordManager');
        const currentUser = document.getElementById('currentUser');
        const logoutBtn = document.getElementById('logoutBtn');
        const addNewBtn = document.getElementById('addNewBtn');
        const exportBtn = document.getElementById('exportBtn');
        const searchInput = document.getElementById('searchInput');
        const passwordTableBody = document.getElementById('passwordTableBody');
        const emptyState = document.getElementById('emptyState');
        const passwordModal = document.getElementById('passwordModal');
        const closeModal = document.getElementById('closeModal');
        const passwordForm = document.getElementById('passwordForm');
        const modalTitle = document.getElementById('modalTitle');
        const passwordId = document.getElementById('passwordId');
        const generatePasswordBtn = document.getElementById('generatePassword');
        const passwordField = document.getElementById('passwordField');
        const strengthText = document.getElementById('strengthText');
        const strengthIndicator = document.getElementById('strengthIndicator');

        // State variables
        let isLogin = true;
        let currentUserId = null;
        let passwordEntries = [];
        let editingEntryId = null;

        // Toggle between login and register forms
        authToggleLink.addEventListener('click', () => {
            isLogin = !isLogin;
            
            if (isLogin) {
                authTitle.textContent = 'Log In';
                authButton.textContent = 'Log In';
                authToggleText.textContent = "Don't have an account?";
                authToggleLink.textContent = 'Sign up';
                confirmPasswordGroup.style.display = 'none';
            } else {
                authTitle.textContent = 'Register';
                authButton.textContent = 'Register';
                authToggleText.textContent = 'Already have an account?';
                authToggleLink.textContent = 'Log in';
                confirmPasswordGroup.style.display = 'block';
            }
        });

        // Handle auth form submission
        authForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (isLogin) {
                // Login logic
                const user = getUserFromStorage(username);
                
                if (user && user.password === hashPassword(password)) {
                    loginUser(user);
                } else {
                    alert('Invalid username or password');
                }
            } else {
                // Register logic
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                if (password !== confirmPassword) {
                    alert('Passwords do not match');
                    return;
                }
                
                if (getUserFromStorage(username)) {
                    alert('Username already exists');
                    return;
                }
                
                // Create new user
                const newUser = {
                    id: Date.now().toString(),
                    username,
                    password: hashPassword(password),
                    passwordEntries: []
                };
                
                saveUserToStorage(newUser);
                alert('Registration successful! You can now log in.');
                
                // Reset to login form
                authToggleLink.click();
            }
        });

        // Logout functionality
        logoutBtn.addEventListener('click', () => {
            currentUserId = null;
            passwordEntries = [];
            authForm.reset();
            passwordManager.style.display = 'none';
            authContainer.style.display = 'block';
        });

        // Add new password button
        addNewBtn.addEventListener('click', () => {
            modalTitle.textContent = 'Add New Password';
            passwordForm.reset();
            passwordId.value = '';
            editingEntryId = null;
            updatePasswordStrength('');
            passwordModal.style.display = 'flex';
        });

        // Close modal
        closeModal.addEventListener('click', () => {
            passwordModal.style.display = 'none';
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === passwordModal) {
                passwordModal.style.display = 'none';
            }
        });

        // Handle password form submission
        passwordForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const website = document.getElementById('website').value;
            const websiteUrl = document.getElementById('websiteUrl').value;
            const username = document.getElementById('usernameField').value;
            const password = document.getElementById('passwordField').value;
            const notes = document.getElementById('notes').value;
            
            const newEntry = {
                id: editingEntryId || Date.now().toString(),
                website,
                websiteUrl,
                username,
                password: encryptPassword(password), // In a real app, encrypt password
                notes,
                lastUpdated: new Date().toISOString()
            };
            
            if (editingEntryId) {
                // Update existing entry
                const index = passwordEntries.findIndex(entry => entry.id === editingEntryId);
                if (index !== -1) {
                    passwordEntries[index] = newEntry;
                }
            } else {
                // Add new entry
                passwordEntries.push(newEntry);
            }
            
            // Save to storage
            savePasswordEntries();
            
            // Refresh UI
            renderPasswordEntries();
            passwordModal.style.display = 'none';
        });

        // Generate password
        generatePasswordBtn.addEventListener('click', () => {
            const length = 16;
            const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_-+=";
            let password = "";
            
            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * charset.length);
                password += charset.charAt(randomIndex);
            }
            
            passwordField.value = password;
            passwordField.type = 'text';
            setTimeout(() => {
                passwordField.type = 'password';
            }, 3000);
            
            updatePasswordStrength(password);
        });

        // Check password strength
        passwordField.addEventListener('input', () => {
            updatePasswordStrength(passwordField.value);
        });

        // Search functionality
        searchInput.addEventListener('input', () => {
            renderPasswordEntries();
        });

        // Export data
        exportBtn.addEventListener('click', () => {
            // In a real app, you would implement proper export functionality
            // This is a simple example that creates a JSON string
            const user = getUserFromStorage(currentUserId);
            
            if (!user) return;
            
            const exportData = {
                username: user.username,
                entries: passwordEntries.map(entry => ({
                    website: entry.website,
                    websiteUrl: entry.websiteUrl,
                    username: entry.username,
                    password: decryptPassword(entry.password),
                    notes: entry.notes,
                    lastUpdated: entry.lastUpdated
                }))
            };
            
            const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(exportData, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", "password-export.json");
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
        });

        // Helper Functions
        
        function getUserFromStorage(username) {
            const users = JSON.parse(localStorage.getItem('passwordManagerUsers') || '[]');
            return users.find(user => user.username === username || user.id === username);
        }
        
        function saveUserToStorage(user) {
            const users = JSON.parse(localStorage.getItem('passwordManagerUsers') || '[]');
            const index = users.findIndex(u => u.id === user.id);
            
            if (index !== -1) {
                users[index] = user;
            } else {
                users.push(user);
            }
            
            localStorage.setItem('passwordManagerUsers', JSON.stringify(users));
        }
        
function loginUser(user) {
    currentUserId = user.id;
    currentUser.textContent = user.username;
    passwordEntries = user.passwordEntries || [];
    localStorage.setItem('lastUserId', user.id);
    
    // Show password manager, hide auth form
    authContainer.style.display = 'none';
    passwordManager.style.display = 'block';
    
    renderPasswordEntries();
}
        
        function savePasswordEntries() {
            const user = getUserFromStorage(currentUserId);
            
            if (user) {
                user.passwordEntries = passwordEntries;
                saveUserToStorage(user);
            }
        }
        
        function renderPasswordEntries() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredEntries = passwordEntries.filter(entry => {
                return entry.website.toLowerCase().includes(searchTerm) || 
                       entry.username.toLowerCase().includes(searchTerm);
            });
            
            passwordTableBody.innerHTML = '';
            
            if (filteredEntries.length === 0) {
                document.getElementById('passwordList').style.display = 'none';
                emptyState.style.display = 'block';
            } else {
                document.getElementById('passwordList').style.display = 'block';
                emptyState.style.display = 'none';
                
                filteredEntries.forEach(entry => {
                    const row = document.createElement('tr');
                    
                    // Website
                    const websiteCell = document.createElement('td');
                    websiteCell.textContent = entry.website;
                    row.appendChild(websiteCell);
                    
                    // Username
                    const usernameCell = document.createElement('td');
                    usernameCell.textContent = entry.username;
                    row.appendChild(usernameCell);
                    
                    // Password
                    const passwordCell = document.createElement('td');
                    passwordCell.className = 'password-field';
                    passwordCell.textContent = 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢';
                    
                    const showPasswordBtn = document.createElement('span');
                    showPasswordBtn.textContent = 'ðŸ‘ï¸';
                    showPasswordBtn.title = 'Show Password';
                    showPasswordBtn.addEventListener('click', () => {
                        if (passwordCell.textContent === 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢') {
                            passwordCell.textContent = decryptPassword(entry.password);
                            setTimeout(() => {
                                passwordCell.textContent = 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢';
                            }, 3000);
                        }
                    });
                    
                    passwordCell.appendChild(showPasswordBtn);
                    row.appendChild(passwordCell);
                    
                    // Last Updated
                    const lastUpdatedCell = document.createElement('td');
                    lastUpdatedCell.textContent = new Date(entry.lastUpdated).toLocaleDateString();
                    row.appendChild(lastUpdatedCell);
                    
                    // Actions
                    const actionsCell = document.createElement('td');
                    actionsCell.className = 'action-cell';
                    
                    const editBtn = document.createElement('button');
                    editBtn.textContent = 'Edit';
                    editBtn.style.backgroundColor = '#4caf50';
                    editBtn.addEventListener('click', () => {
                        editPasswordEntry(entry.id);
                    });
                    
                    const deleteBtn = document.createElement('button');
                    deleteBtn.textContent = 'Delete';
                    deleteBtn.style.backgroundColor = '#f44336';
                    deleteBtn.addEventListener('click', () => {
                        deletePasswordEntry(entry.id);
                    });
                    
                    actionsCell.appendChild(editBtn);
                    actionsCell.appendChild(deleteBtn);
                    row.appendChild(actionsCell);
                    
                    passwordTableBody.appendChild(row);
                });
            }
        }
        
        function editPasswordEntry(id) {
            const entry = passwordEntries.find(entry => entry.id === id);
            
            if (entry) {
                modalTitle.textContent = 'Edit Password';
                editingEntryId = id;
                passwordId.value = id;
                
                document.getElementById('website').value = entry.website;
                document.getElementById('websiteUrl').value = entry.websiteUrl || '';
                document.getElementById('usernameField').value = entry.username;
                document.getElementById('passwordField').value = decryptPassword(entry.password);
                document.getElementById('notes').value = entry.notes || '';
                
                updatePasswordStrength(decryptPassword(entry.password));
                passwordModal.style.display = 'flex';
            }
        }
        
        function deletePasswordEntry(id) {
            if (confirm('Are you sure you want to delete this password?')) {
                passwordEntries = passwordEntries.filter(entry => entry.id !== id);
                savePasswordEntries();
                renderPasswordEntries();
            }
        }
        
        function hashPassword(password) {
            // In a real app, use a proper hashing algorithm
            // This is a simple implementation for demo purposes
            let hash = 0;
            for (let i = 0; i < password.length; i++) {
                const char = password.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return hash.toString(16);
        }
        
        function encryptPassword(password) {
            // In a real app, use proper encryption
            // This is a simple implementation for demo purposes
            return btoa(password);
        }
        
        function decryptPassword(encryptedPassword) {
            // In a real app, use proper decryption
            // This is a simple implementation for demo purposes
            try {
                return atob(encryptedPassword);
            } catch (e) {
                return encryptedPassword;
            }
        }
        
        function updatePasswordStrength(password) {
            // Simple password strength calculation
            let strength = 0;
            
            if (password.length > 0) {
                // Length contribution (up to 40%)
                strength += Math.min(password.length * 3, 40);
                
                // Character variety contribution (up to 60%)
                if (/[a-z]/.test(password)) strength += 10;
                if (/[A-Z]/.test(password)) strength += 10;
                if (/[0-9]/.test(password)) strength += 10;
                if (/[^a-zA-Z0-9]/.test(password)) strength += 30;
            }
            
            // Update UI
            strengthIndicator.style.width = strength + '%';
            
            if (strength < 30) {
                strengthText.textContent = 'Strength: Weak';
                strengthIndicator.style.backgroundColor = '#f44336';
            } else if (strength < 60) {
                strengthText.textContent = 'Strength: Medium';
                strengthIndicator.style.backgroundColor = '#ff9800';
            } else {
                strengthText.textContent = 'Strength: Strong';
                strengthIndicator.style.backgroundColor = '#4caf50';
            }
        }
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            // Check if user is already logged in
            const lastUserId = localStorage.getItem('lastUserId');
            if (lastUserId) {
                const user = getUserFromStorage(lastUserId);
                if (user) {
                    loginUser(user);
                }
            }
        });
    </script>
</body>
</html>